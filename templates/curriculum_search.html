{% extends 'base.html' %}
{% load static %}

{% block title %}Curriculum Search - School Search{% endblock %}

{% block content %}
<div class="page-container">
    <div class="mb-4" style="margin-bottom: var(--space-5);">
        <h1 style="margin-bottom: var(--space-4);">Search for a curriculum</h1>
        <form method="get" action="{% url 'curriculum_search' %}" style="display: flex; gap: var(--space-3); max-width: 600px;">
            <input type="text" name="q" value="{{ search_query }}" placeholder="Search for a curriculum"
                class="form-input" style="flex: 1;">
            <button type="submit" class="btn btn-primary">
                <span class="material-icons">search</span>
                Search
            </button>
        </form>
    </div>

    <div class="grid-2">
        {% for curriculum in curricula %}
        <a href="{% url 'curriculum_detail' curriculum.id %}" class="card fade-in card-link" style="padding: var(--space-4);">
            <div style="margin-bottom: var(--space-3);">
                <h2 style="font-size: 18px; margin-bottom: var(--space-2); color: var(--text-primary);">{{ curriculum.name }}</h2>
                {% if curriculum.abbreviation %}
                <span style="color: var(--text-secondary); font-weight: 600; font-size: 12px; padding: 3px 10px; background: var(--bg-tertiary); border-radius: var(--radius-pill); display: inline-block; border: 1px solid var(--border-light);">{{ curriculum.abbreviation }}</span>
                {% endif %}
            </div>
            {% if curriculum.description %}
            <p style="color: var(--text-secondary); margin: 0; line-height: 1.5; font-size: 13px; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;">{{ curriculum.description }}</p>
            {% endif %}
        </a>
        {% empty %}
        <div class="empty-state" style="grid-column: 1 / -1;">
            <span class="material-icons">menu_book</span>
            <p>No curricula found. Try a different search term!</p>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}