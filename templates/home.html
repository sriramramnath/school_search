{% extends 'base.html' %}
{% load static %}

{% block title %}Home - School Search{% endblock %}

{% block content %}
<div class="page-container">

    <div class="mb-4" style="margin-bottom: var(--space-8);">
        <h2 style="margin-bottom: var(--space-5);">Recommended Schools</h2>
        <div class="grid-2">
            {% for school in recommended_schools %}
            <a href="{% url 'school_detail' school.id %}" class="card card-link fade-in">
                {% if school.image %}
                <img src="{{ school.image.url }}" alt="{{ school.name }}" class="card-image" style="width: 100%; height: 200px; object-fit: cover; border-radius: var(--radius-lg) var(--radius-lg) 0 0;">
                {% else %}
                <div style="width: 100%; height: 200px; background: var(--bg-tertiary); display: flex; align-items: center; justify-content: center; border-radius: var(--radius-lg) var(--radius-lg) 0 0; border-bottom: 2px solid var(--border-light);">
                    <span class="material-icons" style="font-size: 64px; color: var(--text-tertiary); opacity: 0.5;">school</span>
                </div>
                {% endif %}
                <div style="padding: var(--space-5);">
                    <h3 class="card-title" style="font-size: 18px; margin-bottom: var(--space-2);">{{ school.name }}</h3>
                    <p class="card-subtitle" style="margin-bottom: var(--space-4);">
                        <span class="material-icons" style="font-size: 16px; vertical-align: middle;">location_on</span>
                        {{ school.location }} • {{ school.distance }} km
                    </p>
                    <div class="card-meta">
                        <span class="rating-badge">
                            {{ school.rating }} <span class="material-icons">star</span>
                        </span>
                        <span style="font-weight: 600; color: var(--text-primary);">₹{% if school.get_default_fee %}{{ school.get_default_fee }}{% else %}N/A{% endif %}</span>
                    </div>
                </div>
            </a>
            {% empty %}
            <div class="empty-state" style="grid-column: 1 / -1;">
                <span class="material-icons">school</span>
                <p>No schools found.</p>
            </div>
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}